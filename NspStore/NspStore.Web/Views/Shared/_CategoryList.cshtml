@model IReadOnlyList<NspStore.Application.ViewsModels.CategoryVm>

<div class="category-grid">
    <article class="card @(string.IsNullOrEmpty((string?)ViewData["ActiveCategory"]) ? "card--active" : "")">
        <a class="card__link"
           asp-controller="Catalog"
           asp-action="Index">
            <div class="card__body">
                <h3 class="card__title">Все категории</h3>
            </div>
        </a>
    </article>

    @foreach (var cat in Model)
    {
        var isActive = (string?)ViewData["ActiveCategory"] == cat.Slug;
        <article class="card @(isActive ? "card--active" : "")">
            <a class="card__link"
               asp-controller="Catalog"
               asp-action="Index"
               asp-route-category="@cat.Slug"
               asp-route-q="@ViewData["Q"]">
                <div class="card__body">
                    <h3 class="card__title">@cat.Name</h3>
                </div>
            </a>
        </article>
    }
</div>
